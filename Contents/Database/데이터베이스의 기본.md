---
# 1. Database 기초
---

## 서문
데이터베이스(DataBase, DB)는 여러 사람들이 공유하고 사용할 목적으로 통합 관리되는 정보의 집합이다. 
은행, 예약, 검색, 쇼핑 등 일상 속에서 이용하고 있는 많은 온라인 서비스들에서 DB를 활용한다. 
과거에는 숫자와 문자 정보 중심의 DB가 많이 쓰였으나 시간이 지남에 따라 멀티미디어 데이터까지도 관리하는 수준으로 발전하였다. 

DB는 반드시 데이터베이스 관리 시스템(DataBase Management System, DBMS)과 함께 한다. 
DB 자체는 관련성 있는 데이터의 모음이고, 실제로 우리는 그 모음을 잘 다룰 수 있도록 도와주는 시스템인 DBMS를 통해 DB를 사용한다. 
관계형 DB(Relational DataBase, RDB)를 관리해주는 RDBMS가 오랜 기간 동안 시장을 지배하고 있고, 차세대 DB로 NoSQL DB가 쓰이고 있다.
<br/>

DB는 관련 있는 데이터를 모아놓은 것이다. 실제 데이터와, 그 데이터에 대한 정보를 모아 놓은 메타 데이터로 이루어져 있다. 
말하자면 데이터들을 모아놓은 파일과 같은 것이다. 어떤 경우에는 복잡하게 DB를 사용하지 않고 직접 파일로 관리하는 것이 더 편할지 모르지만, 
많은 경우에 데이터를 효율적으로 관리하거나 접근 관리 등 여러 가지 추가적인 기능들이 필요하기 때문에 DB를 쓰게 된다.

DB에서 원하는 데이터를 가져올 때는 직접 DB에 접근하지 않고 DBMS에게 질의(Query)하게 된다. 
컴퓨터 프로그램을 만들기 위해서 프로그래밍 언어가 있듯 DBMS에게 질의하기 위해 SQL이라는 언어를 사용한다. 
DBMS는 입력된 SQL을 처리하고 필요하다면 DB에 접근하여 작업을 수행한다.
<br/>


## Database
- 데이터베이스란 여러 사용자가 원하는 정보를 얻기 위해 모아둔 자료의 집합
- 데이터베이스란 구조적으로 통합된 하나의 주제와 관련된 의미 있는 데이터의 모음
<br/>

- 클라이언트가 주문 정보를 요청하면 서버가 해당 정보를 제공하는데 이때 서버는 데이터베이스에서 정보를 가져옴
- 이때 정보가 무작위로 아무렇게나 나열되어 있다면 서버가 사용자의 요청 정보만 선택하기 어려운 문제가 발생
- 따라서 정보나 데이터를 속성별로 묶어 정리하여 사용자가 요청한 정보를 빠르게 제공하기 위해 데이터베이스를 사용

## DBMS
- Data Base Management System
- 데이터베이스 관리 시스템
- 데이터베이스를 조작하는 규칙은 가진 소프트웨어
- Oracle, MySQL, MariaDB, ...

## Query
- 쿼리란 원하는 데이터만 뽑을 수 있도록 서버가 데이터베이스에 요청하는 메시지
- 윌리엄 셰익스피어가 작가인 책의 정보를 조회하는 쿼리문의 예시
- ``` select * from book_list where author = 'William Shakespeare"; ```

---
# 2. 데이터베이스의 특징
---

#### 데이터의 독립성
- 물리적 독립성: 데이터베이스 사이즈를 늘리거나 성능 향상을 위해 데이터 파일을 늘리거나 새롭게 추가하더라도 관련된 응용 프로그램을 수정할 필요가 없다.
- 논리적 독립성: 데이터베이스는 논리적인 구조로 다양한 응용 프로그램의 논리적 요구를 만족시켜줄 수 있다.
#### 데이터의 무결성
- 여러 경로를 통해 잘못된 데이터가 발생하는 경우의 수를 방지하는 기능으로 데이터의 유효성 검사를 통해 데이터의 무결성을 구현하게 된다.
#### 데이터의 보안성
- 인가된 사용자들만 데이터베이스나 데이터베이스 내의 자원에 접근할 수 있도록 계정 관리 또는 접근 권한을 설정함으로써 모든 데이터에 보안을 구현할 수 있다.
#### 데이터의 일관성
- 연관된 정보를 논리적인 구조로 관리함으로써 어떤 하나의 데이터만 변경했을 경우 발생할 수 있는 데이터의 불일치성을 배제할 수 있다. 또한 작업 중 일부 데이터만 변경되어 나머지 데이터와 일치하지 않는 경우의 수를 배제할 수 있다.
#### 데이터 중복 최소화
- 데이터베이스는 데이터를 통합해서 관리함으로써 파일 시스템의 단점 중 하나인 자료의 중복과 데이터의 중복성 문제를 해결할 수 있다.

---
# 3. 데이터베이스 용어 정리
---

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbhzmwy%2FbtrmxGyR3Vf%2FHKkM305JeOqWnZZwTjydak%2Fimg.png">
<table border="1">
        <tr>
            <td>파일 시스템</td>
            <td>데이터베이스 모델링</td>
            <td>관계형 데이터베이스</td>
        </tr>
        <tr>
            <td>파일</td>
            <td>엔티티</td>
            <td>테이블</td>
        </tr>
        <tr>
            <td>레코드</td>
            <td>튜플</td>
            <td>행</td>
        </tr>
        <tr>
            <td>키</td>
            <td>식별자</td>
            <td>기본키</td>
        </tr>
        <tr>
            <td>필드</td>
            <td>속성</td>
            <td>열</td>
        </tr>
    </table>


#### 테이블(Table) : 행(Row)과 열(Column)로 이루어진 데이터 집합을 의미. (=릴레이션(Relation))
#### 행(Row) : 관계된 데이터의 묶음. 튜플(Tuple) 또는 레코드(Record)라고도 불림.
#### 열(Column) : 가장 작은 단위의 데이터. 필드(Field) 또는 속성(Attribute)라고도 불림.
#### 키(Key) : 테이블에서 행의 식별자로 이용되는 식별자.
#### 엔티티(Entity) : 현실 세계에 존재하는 객체를 데이터베이스 상에 표현하기 위해 사용하는 추상적인 개념.


---
# 4. 관계형 데이터 모델
---

## RDS
- Relational Database Service
- 관계형 데이터베이스
- 실무에서 가장 많이 사용하는 데이터베이스의 한 종류
- 데이터 간 서로 관련이 있는 걸 연결해 관계로 표현하는 데이터베이스
- 구조화된 테이블 형식 사용
- 스키마(구조)와 인스턴스(데이터 값)

<table border="1">
        <tr>
            <td>물품 번호</td>
            <td>물품 이름</td>
            <td>수량</td>
        </tr>
        <tr>
            <td>1</td>
            <td>축구공</td>
            <td>2</td>
        </tr>
        <tr>
            <td>2</td>
            <td>농구공</td>
            <td>4</td>
        </tr>
        <tr>
            <td>3</td>
            <td>야구공</td>
            <td>8</td>
        </tr>
    </table>


- 제약 조건 존재
- 제약 조건이란 데이터베이스에 저장되는 데이터의 정확성을 보장하기 위해 키를 이용하여 입력 데이터에 제한을 주는 것
- 키 제약 조건, 개체 무결성 제약 조건, 참조 무결성 제약 조건
<br/>

<img src="https://velog.velcdn.com/images%2Fdonghoim%2Fpost%2Fe6c7e748-1ba7-4281-9315-39184dafeeb3%2Fimage.png">

#### 1. 후보키(Candidate Key)
- 릴레이션을 구성하는 속성들 중 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합
- 즉, 기본키로 사용할 수 있는 속성들
- 모든 릴레이션은 반드시 하나 이상의 후보키를 가져야 함
- 모든 튜플들에 대해 유일성, 최소성을 만족해야 함
<br/>

- 유일성(Unique) : 하나의 키 값으로 하나의 튜플만을 유일하게 식별할 수 있어야 한다.
- 최소성(Minimality) : 모든 레코드들을 유일하게 식별하는 데 꼭 필요한 소석으로만 구성되어야 한다.
```<학생> 릴레이션에서 학번, 주민번호```

#### 2.기본키(Primary Key)
- 후보키 중에서 선택한 주키로 NULL 값이 될 수 없음
- 한 릴레이션에서 특정 튜플을 유일하게 구별할 수 있는 속성
- 기본키로 저장된 속성에는 동일한 값이 중복되어 저장될 수 없음
```<학생> 릴레이션에서 학번이나 주민번호, <수강> 릴레이션에서는 '학번+과목명' 조합```

#### 3. 대체키(Alternate Key)
- 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들을 말함
- 보조키라고도 함
```<학생> 릴레이션에서 학번을 기본키로 정의할 시 주민번호는 대체키가 됨```

#### 4. 슈퍼키(Super Key)
- 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키
- 유일성은 만족하지만 최소성은 만족시키지 못함
```<학생> 릴레이션에서 '학번', '주민번호', '학번+주민번호', '학번+주민번호+상명' 등으로 슈퍼키 구성 가능```

#### 5. 외래키(Foreign Key)
- 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합
- 외래키는 참조되는 릴레이션의 기본키와 대응되어 참조 관계를 표현함
- 외래키로 지정되면 참조 릴리에션의 기본키에 없는 값은 입력할 수 없음

```<수강> 릴레이션이 <학생> 릴레이션을 참조하고 있으므로 <학생> 릴레이션의 학번이 기본키이고 <수강> 릴레이션의 학번은 외래키가 됨```

<table border="1">
        <tr>
            <td>물품 번호</td>
            <td>물품 이름</td>
            <td>수량</td>
        </tr>
        <tr>
            <td>1</td>
            <td>축구공</td>
            <td>2</td>
        </tr>
        <tr>
            <td>2</td>
            <td>농구공</td>
            <td>4</td>
        </tr>
        <tr>
            <td>3</td>
            <td>야구공</td>
            <td>8</td>
        </tr>
    </table>



---
# 5. SQL vs NoSQL
---


## SQL
- Structured Query Language
- 다양한 데이터베이스 중 관계형 데이터베이스를 관리하기 위해 만들어진 언어

## NoSQL
- SQL이 아닌 데이터베이스 언어
- 관계형 데이터베이스를 다루는 SQL과 달리 NoSQL 데이터베이스 언어는 관계형 테이블과는 다른 방식으로 데이터 저장
- 관계형처럼 구조화된 테이블 형식을 사용하지 않으며 데이터 모델에 따라 다양한 방식으로 데이터 저장
- 빅데이터의 등장으로 데이터와 트래픽 수가 기하급수적으로 증가함에 따라 다양한 비정형데이터를 저장하기 위한 필요성이 대두되며 주목
- 비정형 데이터는 동영상, 오디오, 사진, 메일 본문 등에 해당(이것들을 구조화된 테이블 형식에 담기는 어려울 것!)
- 따라서 NoSQL은 데이터가 어떤 형태로 들어올지 모를 때 사용하기에 적합

### NoSQL의 종류
- Key-Value 데이터베이스
- Document 데이터베이스
- Graph 데이터베이스

## SQL을 사용해야 할 때
- 복잡한 쿼리나 데이터베이스 분석이 필요한 경우
- 높은 부하가 예상될 경우
- 데이터가 크게 쌓이거나 데이터 구조를 변경할 일이 없는 경우

## NoSQL을 사용해야 할 떄
- 지속적으로 새로운 기능들이 추가되고 변경되어 데이터를 사전에 정의하기 힘든 경우
- 데이터 정합성이나 일관성이 최고 우선순위가 아닌 경우
- 데이터 양이 많은 경우













